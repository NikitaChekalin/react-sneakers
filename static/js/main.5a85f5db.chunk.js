(this["webpackJsonpreact-sneakers"]=this["webpackJsonpreact-sneakers"]||[]).push([[0],{17:function(e,t,r){e.exports={card:"Card_card__ELKdJ",favorite:"Card_favorite__2qIlf",card__info:"Card_card__info__1peS5",card__main:"Card_card__main__6Posw",card__plus:"Card_card__plus__261A4"}},18:function(e,t,r){e.exports={header__info:"Header_header__info__1rND2",header__left:"Header_header__left__3vB5f",header__right:"Header_header__right__2xPL1",cart:"Header_cart__2UFyM"}},19:function(e,t,r){e.exports={cart__empty:"Info_cart__empty__1ym8v",cart__empty__img:"Info_cart__empty__img__3LYEC",cart__empty__info:"Info_cart__empty__info__3H07Y",btn__cart__confirm:"Info_btn__cart__confirm__3lNCk"}},42:function(e,t,r){},44:function(e,t,r){},6:function(e,t,r){e.exports={overlay:"Drawer_overlay__296Ur",drawer:"Drawer_drawer__1MpoJ",cart__item:"Drawer_cart__item__3fHr2","cart-img":"Drawer_cart-img__1vEWN",cart__info:"Drawer_cart__info__3LJLp",cart__remove__btn:"Drawer_cart__remove__btn__109l3",cart__items:"Drawer_cart__items__2tNpo",cart__footer__item:"Drawer_cart__footer__item__2HTOY",cart__footer:"Drawer_cart__footer__2kCj6",cart__footer__arrow:"Drawer_cart__footer__arrow__CkN09",btn__cart__confirm:"Drawer_btn__cart__confirm__2n0Xs"}},72:function(e,t,r){"use strict";r.r(t);var c=r(0),a=r.n(c),n=r(35),s=r.n(n),i=(r(42),r(13)),o=r(8),_=r.n(o),d=r(12),j=r(4),l=(r(44),r(16)),u=r(36),b=r(17),m=r.n(b),h=a.a.createContext({}),f=r(1);function x(e){var t=e.id,r=e.imageUrl,n=(e.added,e.title),s=e.price,i=e.onFavorite,o=e.onPlus,_=e.favorited,d=void 0!==_&&_,l=e.loading,b=void 0!==l&&l,x=a.a.useContext(h).isItemAddedToCart,O=Object(c.useState)(d),p=Object(j.a)(O,2),v=p[0],g=p[1],N={id:t,parentId:t,title:n,imageUrl:r,price:s};return Object(f.jsx)("div",{className:m.a.card,children:b?Object(f.jsxs)(u.a,{speed:2,width:205,height:265,viewBox:"0 0 155 265",backgroundColor:"#f3f3f3",foregroundColor:"#ecebeb",children:[Object(f.jsx)("rect",{x:"0",y:"173",rx:"10",ry:"10",width:"150",height:"15"}),Object(f.jsx)("rect",{x:"0",y:"196",rx:"10",ry:"10",width:"100",height:"15"}),Object(f.jsx)("rect",{x:"0",y:"219",rx:"10",ry:"10",width:"80",height:"24"}),Object(f.jsx)("rect",{x:"118",y:"210",rx:"10",ry:"10",width:"32",height:"32"}),Object(f.jsx)("rect",{x:"0",y:"9",rx:"9",ry:"9",width:"155",height:"155"})]}):Object(f.jsxs)(f.Fragment,{children:[Object(f.jsx)("div",{className:m.a.favorite,children:i&&Object(f.jsx)("img",{onClick:function(){i(N),g(!v)},src:v?"img/liked.svg":"img/unliked.svg",alt:"efee"})}),Object(f.jsx)("img",{width:200,src:r,alt:"Sneakers 1"}),Object(f.jsx)("p",{children:n}),Object(f.jsxs)("div",{className:m.a.card__info,children:[Object(f.jsxs)("div",{className:m.a.card__main,children:[Object(f.jsx)("span",{children:"\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c:"}),Object(f.jsx)("b",{children:s})]}),o&&Object(f.jsx)("img",{className:m.a.card__plus,width:35,height:35,src:x(t)?"img/btnChecked.svg":"img/plus.png",onClick:function(){o(N)},alt:""})]})]})})}function O(e){var t=e.items,r=e.searchValue,c=e.setsearchValue,a=e.onChangeSearchInput,n=e.onAddToFavorite,s=e.onAddToCart,o=e.isLoading;return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsxs)("div",{className:"search__block",children:[Object(f.jsx)("img",{width:20,alt:"Search...",src:"img/search.png",className:"search__photo"}),r&&Object(f.jsx)("img",{onClick:function(){return c("")},className:"cart__remove__btn",src:"img/btn-remove.svg",width:40,alt:"Clear"}),Object(f.jsx)("input",{type:"text",onChange:a,value:r,placeholder:"\u041f\u043e\u0448\u0443\u043a \u043d\u0435\u043e\u0431\u0445\u0456\u0434\u043d\u043e\u0457 \u043f\u0430\u0440\u0438.."})]}),Object(f.jsx)("h1",{className:"content__header",children:r?'\u041f\u043e\u0448\u0443\u043a \u043f\u043e \u0437\u0430\u043f\u0438\u0442\u0443 "'.concat(r,'"'):"\u0412\u0441\u0456 \u043a\u0440\u043e\u0441\u0456\u0432\u043a\u0438"}),Object(f.jsx)("div",{className:"sneakers",children:function(){var e=t.filter((function(e){return e.title.toLowerCase().includes(r.toLowerCase())}));return(o?Object(i.a)(Array(8)):e).map((function(e,t){return Object(f.jsx)(x,Object(l.a)({onFavorite:function(e){return n(e)},onPlus:function(e){return s(e)},loading:o},e),t)}))}()})]})}function p(){var e=a.a.useContext(h),t=e.favorites,r=e.onAddToFavorite;return Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"content__header",children:"\u041c\u043e\u0438 \u0437\u0430\u043a\u043b\u0430\u0434\u043a\u0438"}),Object(f.jsx)("div",{className:"sneakers",children:Object(f.jsx)("div",{className:"sneakers",children:t.map((function(e,t){return Object(f.jsx)(x,Object(l.a)({title:e.title,price:e.price,favorited:!0,onFavorite:r},e),t)}))})})]})}var v=r(5),g=r.n(v);function N(){var e=Object(c.useState)([]),t=Object(j.a)(e,2),r=t[0],n=t[1];return a.a.useEffect((function(){Object(d.a)(_.a.mark((function e(){var t,r;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.next=2,g.a.get("https://60d4633761160900173cb0e9.mockapi.io/orders");case 2:t=e.sent,r=t.data,n(r.reduce((function(e,t){return[].concat(Object(i.a)(e),Object(i.a)(t.items))}),[]));case 5:case"end":return e.stop()}}),e)})))()}),[]),Object(f.jsxs)("div",{className:"content",children:[Object(f.jsx)("h1",{className:"content__header",children:"\u041c\u043e\u0457 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f"}),Object(f.jsx)("div",{className:"sneakers",children:Object(f.jsx)("div",{className:"sneakers",children:r.map((function(e,t){return Object(f.jsx)(x,Object(l.a)({},e),t)}))})})]})}var w=r(18),C=r.n(w),k=r(14);function y(e){var t=a.a.useContext(h).cartItems;return console.log(t.reduce((function(e,t){return t.price+e}),0)),Object(f.jsxs)("header",{children:[Object(f.jsx)(k.b,{to:"",children:Object(f.jsxs)("div",{className:C.a.header__left,children:[Object(f.jsx)("img",{width:80,heigth:80,alt:"",src:"img/logo.png"}),Object(f.jsxs)("div",{className:C.a.header__info,children:[Object(f.jsx)("h3",{children:"React Sneakers"}),Object(f.jsx)("p",{className:C.a.header__info__header,children:"\u041f\u043e\u043f\u0443\u043b\u044f\u0440\u043d\u0438\u0439 \u043c\u0430\u0433\u0430\u0437\u0438\u043d \u043a\u0440\u043e\u0441\u0456\u0432\u043e\u043a"})]})]})}),Object(f.jsxs)("ul",{className:C.a.header__right,children:[Object(f.jsxs)("li",{className:C.a.cart,onClick:e.onClickCart,children:[Object(f.jsx)("img",{alt:"",width:50,src:"img/shopping-card.png"}),Object(f.jsx)("span",{children:t.reduce((function(e,t){return t.price+e}),0)+" \u0433\u0440\u043d"})]}),Object(f.jsx)("li",{children:Object(f.jsx)(k.b,{to:"favorites",children:Object(f.jsx)("img",{alt:"Favorites",width:30,src:"img/unliked.svg"})})}),Object(f.jsx)("li",{children:Object(f.jsx)(k.b,{to:"orders",children:Object(f.jsx)("img",{alt:"Orders",width:30,src:"img/user.png"})})})]})]})}var I=r(19),S=r.n(I),F=function(e){var t=e.title,r=e.description,c=e.image,n=a.a.useContext(h).setCartOpened;return Object(f.jsxs)("div",{className:S.a.cart__empty,children:[Object(f.jsx)("img",{className:S.a.cart__empty__img,src:c,alt:"CartEmpty"}),Object(f.jsx)("h2",{children:t}),Object(f.jsx)("p",{className:S.a.cart__empty__info,children:r}),Object(f.jsxs)("button",{onClick:function(){return n(!1)},className:S.a.btn__cart__confirm,children:["\u041f\u043e\u0432\u0435\u0440\u043d\u0443\u0442\u0438\u0441\u044c \u043d\u0430\u0437\u0430\u0434",Object(f.jsx)("img",{className:S.a.cart__empty__img,src:"img/arrow.svg",alt:"Arorow"})]})]})},A=r(6),D=r.n(A);function T(e){var t=e.onClose,r=e.items,c=void 0===r?[]:r,n=e.onRemove,s=a.a.useContext(h),i=s.setCartItems,o=s.cartItems,l=a.a.useState(!1),u=Object(j.a)(l,2),b=u[0],m=u[1],x=a.a.useState(null),O=Object(j.a)(x,2),p=O[0],v=O[1],N=o.reduce((function(e,t){return e+t.price}),0),w=function(){var e=Object(d.a)(_.a.mark((function e(){var t,r,c,a;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,g.a.post("https://60d4633761160900173cb0e9.mockapi.io/orders",{items:o});case 3:t=e.sent,r=t.data,v(r.id),m(!0),i([]),c=0;case 9:if(!(c<o.length)){e.next=18;break}return a=o[c],e.next=13,g.a.delete("https://60d4633761160900173cb0e9.mockapi.io/cart/"+a.id,[]);case 13:return e.next=15,new Promise((function(e){return setTimeout(e,1e3)}));case 15:c++,e.next=9;break;case 18:e.next=23;break;case 20:e.prev=20,e.t0=e.catch(0),alert("\u041d\u0415 \u0432\u0434\u0430\u043b\u043e\u0441\u044c \u043e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f :(");case 23:case"end":return e.stop()}}),e,null,[[0,20]])})));return function(){return e.apply(this,arguments)}}();return Object(f.jsx)("div",{className:D.a.overlay,children:Object(f.jsxs)("div",{className:D.a.drawer,children:[Object(f.jsxs)("h2",{children:["\u041a\u043e\u0440\u0437\u0438\u043d\u0430",Object(f.jsx)("img",{onClick:t,className:D.a.cart__remove__btn,src:"img/btn-remove.svg",width:30,alt:""})]}),c.length>0?Object(f.jsxs)("div",{className:D.a.cart__items,children:[c.map((function(e){return Object(f.jsxs)("div",{className:D.a.cart__item,children:[Object(f.jsx)("img",{className:D.a.cartImg,width:110,src:e.imageUrl,alt:""}),Object(f.jsxs)("div",{className:D.a.cart__info,children:[Object(f.jsx)("p",{children:e.title}),Object(f.jsxs)("b",{children:["\u0412\u0430\u0440\u0442\u0456\u0441\u0442\u044c:",e.price]})]}),Object(f.jsx)("img",{className:D.a.cart__remove__btn,src:"img/btn-remove.svg",width:40,onClick:function(){return n(e.id)},alt:""})]},e.id)})),Object(f.jsxs)("ul",{className:D.a.cart__footer,children:[Object(f.jsxs)("li",{className:D.a.cart__footer__item,children:[Object(f.jsx)("span",{children:"\u0420\u0430\u0437\u043e\u043c"}),Object(f.jsx)("div",{}),Object(f.jsx)("b",{children:"".concat(N," \u0433\u0440\u043d.")})]}),Object(f.jsxs)("li",{className:D.a.cart__footer__item,children:[Object(f.jsx)("span",{children:"\u041f\u043e\u0434\u0430\u0442\u043e\u043a 5%:"}),Object(f.jsx)("div",{}),Object(f.jsx)("b",{children:"".concat(100*N/5," \u0433\u0440\u043d.")})]})]}),Object(f.jsxs)("button",{onClick:w,className:D.a.btn__cart__confirm,children:["\u041e\u0444\u043e\u0440\u043c\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",Object(f.jsx)("img",{className:D.a.cart__footer__arrow,src:"img/arrow.svg",alt:"Arrow Svg"})]})]}):Object(f.jsx)(F,{title:b?"\u0417\u0430\u043a\u0430\u0437 \u041e\u0444\u043e\u0440\u043c\u043b\u0435\u043d\u0438\u0439 ":"\u041a\u043e\u0440\u0437\u0438\u043d\u0430 \u041f\u0443\u0441\u0442\u0430 ",description:b?"\u0412\u0430\u0448\u0435 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f #".concat(p," \u0431\u0443\u0434\u0435 \u043f\u0435\u0440\u0435\u0434\u0430\u043d\u043e \u043a\u0443\u0440\u0454\u0440\u0441\u043a\u0456\u0439 \u0441\u043b\u0443\u0436\u0431\u0456 "):"\u0414\u043e\u0434\u0430\u0439\u0442\u0435 \u0449\u043e\u0441\u044c , \u0449\u043e\u0431 \u0437\u0440\u043e\u0431\u0438\u0442\u0438 \u0437\u0430\u043c\u043e\u0432\u043b\u0435\u043d\u043d\u044f",image:b?"img/order.png":"img/cartEmpty.png "})]})})}var L=r(2),E=function(){var e="https://60d4633761160900173cb0e9.mockapi.io/items",t="https://60d4633761160900173cb0e9.mockapi.io/cart",r="https://60d4633761160900173cb0e9.mockapi.io/favorite",n=Object(c.useState)(!1),s=Object(j.a)(n,2),o=s[0],l=s[1],u=Object(c.useState)(""),b=Object(j.a)(u,2),m=b[0],x=b[1],v=Object(c.useState)([]),w=Object(j.a)(v,2),C=w[0],k=w[1],I=Object(c.useState)([]),S=Object(j.a)(I,2),F=S[0],A=S[1],D=Object(c.useState)([]),E=Object(j.a)(D,2),P=E[0],H=E[1],J=Object(c.useState)(!0),U=Object(j.a)(J,2),B=U[0],V=U[1];a.a.useEffect((function(){function c(){return(c=Object(d.a)(_.a.mark((function c(){var a,n,s;return _.a.wrap((function(c){for(;;)switch(c.prev=c.next){case 0:return c.next=2,g.a.get(r);case 2:return a=c.sent,c.next=5,g.a.get(t);case 5:return n=c.sent,c.next=8,g.a.get(e);case 8:s=c.sent,V(!1),H(n.data),A(a.data),k(s.data);case 13:case"end":return c.stop()}}),c)})))).apply(this,arguments)}!function(){c.apply(this,arguments)}()}),[]);var M=function(){var e=Object(d.a)(_.a.mark((function e(r){var c,a,n;return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(e.prev=0,!(c=P.find((function(e){return Number(e.parentId)===Number(r.id)})))){e.next=8;break}return H((function(e){return e.filter((function(e){return Number(e.parentId)!==Number(r.id)}))})),e.next=6,g.a.delete("".concat(t,"/").concat(c.id));case 6:e.next=13;break;case 8:return e.next=10,g.a.post(t,r);case 10:a=e.sent,n=a.data,H((function(e){return[].concat(Object(i.a)(e),[n])}));case 13:e.next=18;break;case 15:e.prev=15,e.t0=e.catch(0),console.log("\u043e\u0428\u0438\u0431\u043a\u0430");case 18:case"end":return e.stop()}}),e,null,[[0,15]])})));return function(t){return e.apply(this,arguments)}}(),R=function(){var e=Object(d.a)(_.a.mark((function e(t){return _.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:try{F.find((function(e){return Number(e.id)===Number(t.id)}))?g.a.delete("".concat(r,"/").concat(t.id)):(g.a.post(r,t),A((function(e){return[].concat(Object(i.a)(e),[t])})))}catch(c){console.log("\u041d\u0435 \u0432\u0434\u0430\u043b\u043e\u0441\u044c \u0434\u043e\u0434\u0430\u0442\u0438 \u0434\u043e \u0443\u043b\u044e\u0431\u043b\u0435\u043d\u0438\u0445")}case 1:case"end":return e.stop()}}),e)})));return function(t){return e.apply(this,arguments)}}();return Object(f.jsx)(h.Provider,{value:{onAddToCart:M,items:C,cartItems:P,favorites:F,isItemAddedToCart:function(e){return P.some((function(t){return Number(t.parentId)===Number(e)}))},onAddToFavorite:R,setCartOpened:l,setCartItems:H},children:Object(f.jsxs)("div",{className:"wrapper",children:[o&&Object(f.jsx)(T,{onRemove:function(e){console.log(e),g.a.delete("".concat(t,"/").concat(e)),H((function(t){return t.filter((function(t){return Number(t.id)!==Number(e)}))}))},items:P,onClose:function(){return l(!1)}}),Object(f.jsx)(y,{onClickCart:function(){return l(!0)}}),Object(f.jsx)(L.a,{path:"/",exact:!0,children:Object(f.jsx)(O,{isLoading:B,items:C,cartItems:P,searchValue:m,setsearchValue:x,onChangeSearchInput:function(e){console.log(e.target.value),x(e.target.value)},onAddToFavorite:R,onAddToCart:M})}),Object(f.jsx)(L.a,{path:"favorites",exact:!0,children:Object(f.jsx)(p,{items:F})}),Object(f.jsx)(L.a,{path:"orders",exact:!0,children:Object(f.jsx)(N,{})})]})})},P=function(e){e&&e instanceof Function&&r.e(3).then(r.bind(null,73)).then((function(t){var r=t.getCLS,c=t.getFID,a=t.getFCP,n=t.getLCP,s=t.getTTFB;r(e),c(e),a(e),n(e),s(e)}))};s.a.render(Object(f.jsx)(a.a.StrictMode,{children:Object(f.jsx)(k.a,{children:Object(f.jsx)(E,{})})}),document.getElementById("root")),P()}},[[72,1,2]]]);
//# sourceMappingURL=main.5a85f5db.chunk.js.map